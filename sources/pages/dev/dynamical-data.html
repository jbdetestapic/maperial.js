<html>

<head>
<title>Maperial 1.2 - Dynamical data</title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<link href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" rel="stylesheet" type="text/css" />
<link href="http://static.maperial.localhost/css/maperial-js.min.css" rel="stylesheet" type="text/css" />
</head>

<body>
	<div id="map"></div>
</body>

<style type="text/css">
  #map {
    width: 100%;
   	height: 100%;
  }
</style>
  
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="//static.maperial.localhost/js/maperial.dev.js"></script>
<script type="text/javascript">
	
	(function() {
	
		var maperial = new Maperial();
		
		//-----------------------------------------------//
		
		var map = maperial.addView({
		    container       : "map",
		    defaultZoom     : 9,
		    latitude        : 50.516584,
		    longitude       : 3.186998
		});
		
		//-----------------------------------------------//
		//Layer Images
		
		map.addImageLayer(Source.IMAGES_OCM_TRANSPORT);
		
		//-----------------------------------------------//
		//Layer Vectorial Data 
		
		window.brasseries = new DynamicalData();
		//var brasseries = new DynamicalData();
		brasseries.addPoint( 50.367874, 3.080601999999999,               { brasserie : "Abbaye de St Landelin"} );
		brasseries.addPoint( 50.529722, 2.931556999999998,               { brasserie : "Bière Lepers 8"} );
		//brasseries.addPoint(   50.69285499999999,2.4138020000000324,       { brasserie : "Bracine"} );
		
		var options = {
		        style : {
		            symbol : "symbols/blue.pointer.png"
		        }
		};
		
		map.addDynamicalLayer(brasseries, options);
	})();

	
	function add(){
	    brasseries.removePoint(window.p1);
	    window.p1 = brasseries.addPoint(   50.69285499999999,2.4138020000000324,       { brasserie : "Bracine"} );
	}

	function remove(){
	    brasseries.removePoint(window.p1);
	}
</script>


</html>


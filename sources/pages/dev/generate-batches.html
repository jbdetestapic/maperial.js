<html>

<head>
    <title>Maperial 2.0 - DEV</title>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
</head>

<script type="text/javascript">
    (function () {

        var random1 = function (i) {
            return Math.floor(Math.random() * i) + 1;
        };

        var sign = function () {
            return Math.pow(-1 ,random1(2));
        };

        var batches = [];

        var addBatch = function(){
            var batch = {
                type: "FeatureCollection",
                features: []
            };
            batches.push(batch);
        };

        var addPoint = function(startNum){
            var lat = 50.916584 + sign() * 0.001 * random1(1200);
            var lon = 3.136998 + sign() * 0.001 * random1(1400);

            for(var i = 0; i < 100; ++i){
                var d = i < 50 ? 3000 * i : 150000 - (i-50) * 3000;
                var s = i < 50 ? 0.02 * i : 1 - (i-50) * 0.02;

                var point = {
                    geometry: {
                        type: "Point",
                        coordinates: [
                            lon,
                            lat
                        ]
                    },
                    type: "Feature",
                    properties: {
                        diameter: d,
                        scale: s
                    }
                };

                batches[startNum + i].features.push(point);
            }
        };

        for(var i = 0; i < 500; i++){
            addBatch();
        }

        for(var b = 0; b < 41; b++){
            addPoint(b*10);
        }

        console.log(JSON.stringify(batches));
    })();
</script>


</html>
